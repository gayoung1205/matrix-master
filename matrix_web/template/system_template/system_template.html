{% extends 'base.html' %} {% block content %}
<div class="container">
  <div class="card" style="width: 100%; margin-top: 20px">
    <div class="card-body">
      <h5 class="card-title" style="display: inline-block">시스템관리</h5>
      <button
        type="button"
        class="btn btn-primary btn-sm"
        data-toggle="modal"
        data-target="#matrixCreate"
        style="display: inline-block; float: right; margin-bottom: 0.2rem; margin-left: 0.3rem"
      >
        추가
      </button>
      <button
        type="button"
        class="btn btn-primary btn-sm"
        data-toggle="modal"
        data-target="#matrixImport"
        style="display: inline-block; float: right; margin-bottom: 0.2rem; margin-left: 0.3rem"
      >
        불러오기
      </button>
      <button
        type="button"
        class="btn btn-primary btn-sm"
        data-toggle="modal"
        data-target="#matrixExport"
        style="display: inline-block; float: right; margin-bottom: 0.2rem; margin-left: 0.3rem"
      >
        내보내기
      </button>
      <div class="table-responsive">
        <table class="table">
          <thead class="thead-light">
            <tr>
              <th scope="col">이름</th>
              <th scope="col">시스템ip1</th>
              <th scope="col">시스템ip2</th>
              <th scope="col">시스템ip3</th>
              <th scope="col">port</th>
              <th scope="col">main/sub</th>
              <th scope="col">Action</th>
            </tr>
          </thead>
          {% if matrix %}
          <tbody>
            {% for mat in matrix %}
            <tr>
              <td>{{mat.name}}</th>
              <td>{{mat.matrix_ip_address}}</td>
              <td>{{mat.kvm_ip_address}}</td>
              <td>{% if mat.kvm_ip_address2 is not None %}{{mat.kvm_ip_address2}}{% endif %}</td>
              <td>{{mat.port}}</td>
              <td>{% if mat.is_main %}main{% else %}sub{% endif %}</td>
              <td>
                <button
                  type="button"
                  class="btn btn-primary btn-sm"
                  data-toggle="modal"
                  data-target="#matrixUpdate"
                  data-whatever="{{mat.id}},{{mat.name}},{{mat.matrix_ip_address}},{{mat.kvm_ip_address}},{{mat.kvm_ip_address2}},{{mat.port}},{{mat.is_main}},{{mat.main_connect}}"
                >
                  수정</button
                ><button
                  type="button"
                  class="btn btn-danger btn-sm"
                  data-toggle="modal"
                  data-target="#matrixDelete"
                  data-whatever="{{mat.id}}"
                >
                  삭제
                </button>
              </td>
            </tr>
            {% endfor %}
          </tbody>
          {% endif %}
        </table>
      </div>
    </div>
  </div>
</div>

{% include 'system_template/system_template_create.html' %}

{% include 'system_template/system_template_update.html' %}

{% include 'system_template/system_template_delete.html' %}

{% include 'system_template/system_template_import.html' %}

{% include 'system_template/system_template_export.html' %}

{% load static %}
<script src="{% static 'vendor/jquery/jquery.slim.min.js' %}"></script>
<script src="{% static 'js/system_template.js' %}"></script>
<script src="{% static 'vendor/bootstrap/js/bootstrap.bundle.min.js' %}"></script>
{% endblock content %}
